%YAML 1.2
---
tests:
- description: Null literal
  query: "SELECT VALUE {'_1': null, '_2': NULL, '_3': nUlL} FROM [{}] AS _dual"
  current_db: test
  result_set_schema:
    bsonType: object
    properties:
      '':
        bsonType: object
        properties:
          _1: {bsonType: 'null'}
          _2: {bsonType: 'null'}
          _3: {bsonType: 'null'}
        required: [_1, _2, _3]
        additionalProperties: false
      _id: {bsonType: objectId}
    required: ['', _id]
    additionalProperties: false
- description: Boolean literals
  query: "SELECT VALUE {'_1': true, '_2': TRUE, '_3': TruE, '_4': false, '_5': FALSE,
    '_6': fAlSe} FROM [{}] AS _dual"
  current_db: test
  result_set_schema:
    bsonType: object
    properties:
      _id: {bsonType: objectId}
      '':
        bsonType: object
        properties:
          _4: {bsonType: bool}
          _5: {bsonType: bool}
          _1: {bsonType: bool}
          _6: {bsonType: bool}
          _3: {bsonType: bool}
          _2: {bsonType: bool}
        required: [_1, _2, _3, _4, _5, _6]
        additionalProperties: false
    required: ['', _id]
    additionalProperties: false
- description: String literals
  query: "SELECT VALUE {'_1': '', '_2': 'abc', '_3': 'αβγ'} FROM [{}] AS _dual"
  current_db: test
  result_set_schema:
    bsonType: object
    properties:
      '':
        bsonType: object
        properties:
          _1: {bsonType: string}
          _2: {bsonType: string}
          _3: {bsonType: string}
        required: [_1, _2, _3]
        additionalProperties: false
      _id: {bsonType: objectId}
    required: ['', _id]
    additionalProperties: false
- description: Unsigned integer literals
  query: "SELECT VALUE {'_1': 0, '_2': 1, '_3': 10, '_4': 11, '_5': 567} FROM [{}]
    AS _dual"
  current_db: test
  result_set_schema:
    bsonType: object
    properties:
      '':
        bsonType: object
        properties:
          _1: {bsonType: int}
          _2: {bsonType: int}
          _3: {bsonType: int}
          _4: {bsonType: int}
          _5: {bsonType: int}
        required: [_1, _2, _3, _4, _5]
        additionalProperties: false
      _id: {bsonType: objectId}
    required: ['', _id]
    additionalProperties: false
- description: Signed integer literals
  query: "SELECT VALUE {'_1': -0, '_2': +0, '_3': -1, '_4': +1, '_5': -10, '_6': +10,
    '_7': -789, '_8': +789} FROM [{}] AS _dual"
  current_db: test
  result_set_schema:
    bsonType: object
    properties:
      '':
        bsonType: object
        properties:
          _7: {bsonType: int}
          _4: {bsonType: int}
          _3: {bsonType: int}
          _1: {bsonType: int}
          _5: {bsonType: int}
          _8: {bsonType: int}
          _6: {bsonType: int}
          _2: {bsonType: int}
        required: [_1, _2, _3, _4, _5, _6, _7, _8]
        additionalProperties: false
      _id: {bsonType: objectId}
    required: ['', _id]
    additionalProperties: false
- description: Date escape literal
  query: "SELECT VALUE { '_1': {ts '2012-01-01 10:10:10'} }"
  current_db: test
  result_set_schema:
    bsonType: object
    properties:
      '':
        bsonType: object
        properties:
          _1: {bsonType: date}
        required: [_1]
        additionalProperties: false
      _id: {bsonType: objectId}
    required: ['', _id]
    additionalProperties: false
- description: Unsigned double literals (no exponent parts)
  skip_reason: 'SQL-718: fix failing double tests'
  query: "SELECT VALUE {'_1': 0., '_2': 1., '_3': 0.123, '_4': 2.0, '_5': 3.4, '_6':
    50.607, '_7': .1} FROM [{}] AS _dual"
  current_db: test
  result:
  - {'': {_1: 0, _2: 1, _3: 0.123, _4: 2.0, _5: 3.4, _6: 50.607, _7: 0.1}}

- description: Unsigned double literals (exponent parts)
  skip_reason: 'SQL-718: fix failing double tests'
  query: "SELECT VALUE {'_1': 1e2, '_2': 2E3, '_3': 3.0e4, '_4': 4.567E22, '_5': 8.e23,
    '_6': 9.E2, '_7': .1e3, '_8': .2E3, '_9': 5e000, '_10': 10E00} FROM [{}] AS _dual"
  current_db: test
  result:
  - {'': {_1: 100, _2: 2000, _3: 30000, _4: 4.567e+22, _5: 8e+23, _6: 900, _7: 100,
      _8: 200, _9: 5, _10: 10}}

- description: Signed double literals (no exponent parts)
  skip_reason: 'SQL-718: fix failing double tests'
  query: "SELECT VALUE {'_1': -0., '_2': +0., '_3': -1., '_4': +1., '_5': -0.123,
    '_6': +0.123, '_7': -2.0, '_8': +2.0, '_9': -3.4, '_10': +3.4, '_11': -50.607,
    '_12': +50.607, '_13': -.1, '_14': +.1} FROM [{}] AS _dual"
  current_db: test
  result:
  - {'': {_1: 0, _2: 0, _3: -1, _4: 1, _5: -0.123, _6: 0.123, _7: -2.0, _8: 2.0, _9: -3.4,
      _10: 3.4, _11: -50.607, _12: 50.607, _13: -.1, _14: .1}}

- description: Signed double literals (exponent parts)
  skip_reason: 'SQL-718: fix failing double tests'
  query: "SELECT VALUE {'_1': -1e-2, '_2': -3.0e+4, '_3': -4.567e22, '_4': +8.e-23,
    '_5': +.1e+3, '_6': +5e00} FROM [{}] AS _dual"
  current_db: test
  result:
  - {'': {_1: -.01, _2: -30000, _3: -4.567e+22, _4: 8e-23, _5: 100, _6: 5}}
